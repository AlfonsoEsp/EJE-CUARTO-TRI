<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soy Ese</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
    
    <script>
        // Componente personalizado para Play/Pause
        AFRAME.registerComponent('play-pause', {
            init: function () {
                var myVideo = document.querySelector('#persona'); // Selecciona el video
                var videoControls = document.querySelector('#videoControls'); // Selecciona el botón

                // Alterna entre reproducir y pausar el video
                this.el.addEventListener('click', function () {
                    if (myVideo.paused) {
                        myVideo.play(); // Reproduce el video
                        videoControls.setAttribute('src', '#pausa1'); // Cambia a la imagen de pausa
                    } else {
                        myVideo.pause(); // Pausa el video
                        videoControls.setAttribute('src', '#play1'); // Cambia a la imagen de play
                    }
                });
            }
        });

        // Control de cámara con gamepad
        !--window.addEventListener('DOMContentLoaded', () => {
            const camera = document.getElementById('my-camera');
            const movementSpeed = 0.1; // Velocidad de movimiento
            const rotationSpeed = 2; // Velocidad de rotación

            function updateGamepad() {
                const gamepad = navigator.getGamepads()[0]; // Obtener el primer control conectado
                if (gamepad) {
                    const leftAxisX = gamepad.axes[0]; // Palanca izquierda (eje X)
                    const leftAxisY = gamepad.axes[1]; // Palanca izquierda (eje Y)
                    const rightAxisX = gamepad.axes[2]; // Palanca derecha (eje X)
                    const rightAxisY = gamepad.axes[3]; // Palanca derecha (eje Y)

                    let position = camera.object3D.position;
                    let rotation = camera.object3D.rotation;

                    // Movimiento adelante/atrás ajustado a la rotación
                    if (Math.abs(leftAxisY) > 0.1) {
                        position.z += leftAxisY * movementSpeed * Math.cos(rotation.y);
                        position.x += leftAxisY * movementSpeed * Math.sin(rotation.y);
                    }

                    // Movimiento lateral (izquierda/derecha) ajustado a la rotación
                    if (Math.abs(leftAxisX) > 0.1) {
                        position.z -= leftAxisX * movementSpeed * Math.sin(rotation.y);
                        position.x += leftAxisX * movementSpeed * Math.cos(rotation.y);
                    }

                    // Rotación horizontal con la palanca derecha
                    if (Math.abs(rightAxisX) > 0.1) {
                        rotation.y -= rightAxisX * rotationSpeed * (Math.PI / 180); // Rotación horizontal
                    }

                    // Rotación vertical con la palanca derecha
                    if (Math.abs(rightAxisY) > 0.1) {
                        rotation.x -= rightAxisY * rotationSpeed * (Math.PI / 180); // Rotación vertical
                        // Limitar el rango de rotación vertical
                        rotation.x = Math.max(-Math.PI / 2, Math.min(Math.PI / 2, rotation.x));
                    }
                }
                requestAnimationFrame(updateGamepad);
            }

            requestAnimationFrame(updateGamepad);
        });
    </script>

<script>
    // Componente personalizado para Play/Pause 2
    AFRAME.registerComponent('play-pause2', {
        init: function () {
            var myVideo = document.querySelector('#reloj'); // Selecciona el video
            var videoControls = document.querySelector('#videoControls1'); // Selecciona el botón
            

            // Alterna entre reproducir y pausar el video
            this.el.addEventListener('click', function () {
                if (myVideo.paused) {
                    myVideo.play(); // Reproduce el video
                    videoControls.setAttribute('src', '#pausa1'); // Cambia a la imagen de pausa
                } else {
                    myVideo.pause(); // Pausa el video
                    videoControls.setAttribute('src', '#play1'); // Cambia a la imagen de play
                    
                }
            });
        }
    });
    </script>

<script>
    // Componente personalizado para Play/Pause 3
    AFRAME.registerComponent('play-pause3', {
        init: function () {
            var myVideo = document.querySelector('#persona_saul'); // Selecciona el video
            var videoControls = document.querySelector('#videoControls2'); // Selecciona el botón

            // Alterna entre reproducir y pausar el video
            this.el.addEventListener('click', function () {
                if (myVideo.paused) {
                    myVideo.play(); // Reproduce el video
                    videoControls.setAttribute('src', '#pausa1'); // Cambia a la imagen de pausa
                } else {
                    myVideo.pause(); // Pausa el video
                    videoControls.setAttribute('src', '#play1'); // Cambia a la imagen de play
                }
            });
        }
    });
    </script>
    
    
<script>
    // Componente personalizado para Play/Pause 4
    AFRAME.registerComponent('play-pause4', {
        init: function () {
            var myVideo = document.querySelector('#persona1'); // Selecciona el video
            var videoControls = document.querySelector('#videoControls3'); // Selecciona el botón

            // Alterna entre reproducir y pausar el video
            this.el.addEventListener('click', function () {
                if (myVideo.paused) {
                    myVideo.play(); // Reproduce el video
                    videoControls.setAttribute('src', '#pausa1'); // Cambia a la imagen de pausa
                } else {
                    myVideo.pause(); // Pausa el video
                    videoControls.setAttribute('src', '#play1'); // Cambia a la imagen de play
                }
            });
        }
    });
    </script>

    
<script>
    // Componente personalizado para Play/Pause 5
    AFRAME.registerComponent('play-pause5', {
        init: function () {
            var myVideo = document.querySelector('#persona2'); // Selecciona el video
            var videoControls = document.querySelector('#videoControls4'); // Selecciona el botón

            // Alterna entre reproducir y pausar el video
            this.el.addEventListener('click', function () {
                if (myVideo.paused) {
                    myVideo.play(); // Reproduce el video
                    videoControls.setAttribute('src', '#pausa1'); // Cambia a la imagen de pausa
                } else {
                    myVideo.pause(); // Pausa el video
                    videoControls.setAttribute('src', '#play1'); // Cambia a la imagen de play
                }
            });
        }
    });
    </script>

<script>
    // Componente personalizado para Play/Pause 6
    AFRAME.registerComponent('play-pause6', {
        init: function () {
            var myVideo = document.querySelector('#venti'); // Selecciona el video
            var videoControls = document.querySelector('#videoControls5'); // Selecciona el botón

            // Alterna entre reproducir y pausar el video
            this.el.addEventListener('click', function () {
                if (myVideo.paused) {
                    myVideo.play(); // Reproduce el video
                    videoControls.setAttribute('src', '#pausa1'); // Cambia a la imagen de pausa
                } else {
                    myVideo.pause(); // Pausa el video
                    videoControls.setAttribute('src', '#play1'); // Cambia a la imagen de play
                }
            });
        }
    });
    </script>

<script>
    // Componente personalizado para Play/Pause 7
    AFRAME.registerComponent('play-pause7', {
        init: function () {
            var myVideo = document.querySelector('#celso1'); // Selecciona el video
            var videoControls = document.querySelector('#videoControls6'); // Selecciona el botón

            // Alterna entre reproducir y pausar el video
            this.el.addEventListener('click', function () {
                if (myVideo.paused) {
                    myVideo.play(); // Reproduce el video
                    videoControls.setAttribute('src', '#pausa1'); // Cambia a la imagen de pausa
                } else {
                    myVideo.pause(); // Pausa el video
                    videoControls.setAttribute('src', '#play1'); // Cambia a la imagen de play
                }
            });
        }
    });
    </script>

<script>
    // Componente personalizado para Play/Pause 8
    AFRAME.registerComponent('play-pause8', {
        init: function () {
            var myVideo = document.querySelector('#afraid'); // Selecciona el video
            var videoControls = document.querySelector('#videoControls7'); // Selecciona el botón

            // Alterna entre reproducir y pausar el video
            this.el.addEventListener('click', function () {
                if (myVideo.paused) {
                    myVideo.play(); // Reproduce el video
                    videoControls.setAttribute('src', '#pausa1'); // Cambia a la imagen de pausa
                } else {
                    myVideo.pause(); // Pausa el video
                    videoControls.setAttribute('src', '#play1'); // Cambia a la imagen de play
                }
            });
        }
    });
    </script>

<script>
    // Componente personalizado para Play/Pause 9
    AFRAME.registerComponent('play-pause9', {
        init: function () {
            var myVideo = document.querySelector('#poncho1'); // Selecciona el video
            var videoControls = document.querySelector('#videoControls8'); // Selecciona el botón

            // Alterna entre reproducir y pausar el video
            this.el.addEventListener('click', function () {
                if (myVideo.paused) {
                    myVideo.play(); // Reproduce el video
                    videoControls.setAttribute('src', '#pausa1'); // Cambia a la imagen de pausa
                } else {
                    myVideo.pause(); // Pausa el video
                    videoControls.setAttribute('src', '#play1'); // Cambia a la imagen de play
                }
            });
        }
    });
    </script>

<script>
    // Componente personalizado para Play/Pause 10
    AFRAME.registerComponent('play-pause10', {
        init: function () {
            var myVideo = document.querySelector('#buen_hombre'); // Selecciona el video
            var videoControls = document.querySelector('#videoControls9'); // Selecciona el botón

            // Alterna entre reproducir y pausar el video
            this.el.addEventListener('click', function () {
                if (myVideo.paused) {
                    myVideo.play(); // Reproduce el video
                    videoControls.setAttribute('src', '#pausa1'); // Cambia a la imagen de pausa
                } else {
                    myVideo.pause(); // Pausa el video
                    videoControls.setAttribute('src', '#play1'); // Cambia a la imagen de play
                }
            });
        }
    });
    </script>

<script>
    // Componente personalizado para Play/Pause 11
    AFRAME.registerComponent('play-pause11', {
        init: function () {
            var myVideo = document.querySelector('#snake'); // Selecciona el video
            var videoControls = document.querySelector('#videoControls10'); // Selecciona el botón

            // Alterna entre reproducir y pausar el video
            this.el.addEventListener('click', function () {
                if (myVideo.paused) {
                    myVideo.play(); // Reproduce el video
                    videoControls.setAttribute('src', '#pausa1'); // Cambia a la imagen de pausa
                } else {
                    myVideo.pause(); // Pausa el video
                    videoControls.setAttribute('src', '#play1'); // Cambia a la imagen de play
                }
            });
        }
    });
    </script>


</head>
<body>
    <a-scene>
        <a-assets>
            <img id="play1" src="assets/botonplaypersona.png">
            <img id="pausa1" src="assets/botonpausapersona.png">
            <img id="lalo" src="assets/obra_lalo.jpeg">
            <img id="cv" src="assets/celso_venti.jpeg">
            <img id="final" src="assets/obra_final.jpeg">
           

            <a-asset-item id="cartel" src="assets/modelo3d/cartel.glb"></a-asset-item>
            <a-asset-item id="planta1" src="assets/modelo3d/genshin_planta.glb"></a-asset-item>
            <a-asset-item id="tv" src="assets/modelo3d/TV.glb"></a-asset-item>
            <a-asset-item id="mesa_escolar" src="assets/modelo3d/mesa_escolar.glb"></a-asset-item>
            <a-asset-item id="texto1" src="assets/modelo3d/texto_saul.glb"></a-asset-item>
            <a-asset-item id="curaduria" src="assets/modelo3d/curaduria.glb"></a-asset-item>
            <video id="persona_saul" src="assets/videos/persona_saul.mp4" muted autoplay loop></video>
            <video id="persona" src="assets/videos/persona.mp4" muted autoplay loop></video>
            <a-asset-item id="memento" src="assets/modelo3d/memento_mori.glb"></a-asset-item>
            <video id="persona1" src="assets/videos/persona3.mp4" muted autoplay loop></video>
            <video id="persona2" src="assets/videos/thanatos.mp4" muted autoplay loop></video>
            <a-asset-item id="barbatos" src="assets/modelo3d/barbatos_statue.glb"></a-asset-item>
            <video id="persona1" src="assets/videos/Persona_3intro.mp4" muted autoplay loop></video>
            <video id="persona2" src="assets/videos/ThanatosOrpheus.mp4" muted autoplay loop></video>
        </a-assets>

        <!-- Cámara controlada -->
        <a-entity id="my-camera" camera position="0 2 25">
            <a-cursor color="black" fuse="true" fuse-timeout="1500"></a-cursor>
        </a-entity>

        

        <a-gltf-model src="#mesa_escolar" position="-5.292 0.34576 -5.964" scale="0.56738 0.56738 0.56738" rotation="0 -142.165 0" gltf-model="assets/modelo3d/mesa_escolar.glb"></a-gltf-model>

        <a-gltf-model src="#tv" position="-4.89231 1.89333 -6.63512" scale="0.40398 0.40398 0.40398" rotation="0 -52.824416879881376 0" gltf-model="assets/modelo3d/TV.glb"></a-gltf-model>

        <a-gltf-model src="#mesa_escolar" position="6.65717 0.34576 -5.964" scale="0.567 0.567 0.567" rotation="0 142.165 0" gltf-model="assets/modelo3d/mesa_escolar.glb"></a-gltf-model>
        <a-gltf-model src="#tv" position="7.52037 1.89333 -5.78874" scale="0.40398 0.40398 0.40398" rotation="0 -132.2380861583989 0" gltf-model="assets/modelo3d/TV.glb"></a-gltf-model>

        <a-gltf-model src="#curaduria" position="2.50316 0.098 23.72118" scale="5.32345 5.32345 5.32345" rotation="0 -90 0" gltf-model="assets/modelo3d/curaduria.glb">
        </a-gltf-model>

        <a-gltf-model src="#cartel" 
                      position="-1.171 6.16 11.46482" 
                      scale="1.09966 0.63704 3.42931" 
                      rotation="0 0 0">
        </a-gltf-model>

        <a-gltf-model src="#memento" position="-0.75466 2.18208 -12.86751" scale="0.74834 0.67286 2.07464" gltf-model="assets/modelo3d/memento_mori.glb">
        </a-gltf-model>

        <a-text value="-He pensado que puedo empezar a vivir-
         Makoto Yuki es el protagonista de Persona 3 reload, un estudiante de preparatoria que tiene el poder de invocar diferentes poderes llamados personas. Makoto es una persona la cual al principio tiene una mentalidad nihilista y antisocial, además de alguien que se refugia en la música como un escape a su mundo interno que protege del exterior, características que resultan muy familiares y con las que me sentí muy identificado. A lo largo de su viaje pude aprender junto a él que lo más significativo es que lo importante no es centrarse en los desafíos ni en las emociones, sino en los vínculos con las personas. Cada vez que estoy con las personas que aprecio, su ejemplo me recuerda la importancia de valorar cada instante. Nunca sabemos cuándo podemos separarnos de quienes son importantes para nosotros. Por eso, intento ser una fuente de apoyo e inspiración, ayudando a quienes amo en los momentos difíciles, dejando una huella positiva en sus vidas, como él lo hizo en la mía." width="3" color="#FFFFFF" align="center" wrap-count="60" position="-5.192 2.62466 -15.32574" scale="1.875 1.875 1.875">
        </a-text>

        <!--a-image src="#makoto_yuki"  
                 position="4.5 2 3" 
                 scale="4 4 4" 
                 rotation="0 90 0">
        </a-image-->

        <a-entity environment="preset: japan; 
                              dressingAmount: 1; 
                              ground: flat; 
                              groundColor: #445; 
                              grid: cross" 
                  scale="0.8 0.8 0.8" 
                  position="-1.18 0 25">
        </a-entity>

        <a-gltf-model src="#barbatos" position="-9.19635 0.05522 -39.01511" scale="0.95652 0.95652 0.95652" rotation="0 41.1102947584317 0" gltf-model="assets/modelo3d/barbatos_statue.glb"></a-gltf-model>
        
        <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
        
        <a-video src="#persona" autoplay="true" loop="true" position="-5.067 2.25518 -5.36059" scale="0.795 0.646 4" rotation="0.134 38.518 -0.331">
        </a-video>
        <a-video src="#persona_saul" autoplay="true" loop="true" position="5.5 2.20 -14.80472" rotation="" width="4" height="4" scale="0.49442 0.7603 1">
        </a-video>
        <a-video src="#reloj" position="6.24965 2.24733 -5.68826" rotation="0 -40.88970600730633 0" width="4" height="4" color="#7BC8A4" scale="0.205 0.16294 1"></a-video>
        
        <a-video src="#persona1" autoplay="true" loop="true"position="-10.85803 2.82963 -4.87035" rotation="0 90 0" width="4" height="4" scale="1.01564 0.80755 4.95434"></a-video>

    <a-video src="#persona2" autoplay="true" loop="true" position="11.013 2.633 -4.87" rotation="0 90 0" width="4" height="4" scale="1.641 1.038 5.548"
        </a-video>
            <!--video controles-->
            <a-image id="videoControls" src="#play" position="-4.50851 2.05 -5.68092" rotation="0 37.343670213241666 0" width="4" height="4" scale="0.05 0.05 0.05" play-pause></a-image>
            <a-image id="videoControls2" src="#play" position="6.69597 2.04597 -5.29561" rotation="0 133.84007615358465 0" width="4" height="4" scale="0.05 0.05 -0.05" play-pause2></a-image>
            <a-image id="videoControls3" src="#play" position="7 2.20 -14.80472" rotation="0 0 0" width="4" height="4" scale="0.15 0.15 0.15" play-pause3></a-image>
            <a-image id="videoControls4" src="#play" position="7 2.20 -14.80472" rotation="" width="4" height="4" scale="0.15 0.15 0.15" play-pause3></a-image>
        <a-video src="#persona1" autoplay="true" loop="true" position="-10.81458 2.29453 -5.08159" rotation="-1.21639 90 -90" scale="5 5 5"></a-video>

    </a-video>
    <a-video src="#persona2" autoplay="true" loop="true"  position="10.67141 2.89415 -7.34521" rotation="-1.3390023672207338 -90.00021045914971 90.00021045914971"  scale="-5 -5 -5">
        </a-video>
        <!--video controles-->
        <a-image id="videoControls" src="#play" position="-4.50851 2.05 -5.68092" rotation="0 37.343670213241666 0" width="4" height="4" scale="0.05 0.05 0.05" play-pause></a-image>
        <a-image id="videoControls2" src="#play" position="6.69597 2.04597 -5.29561" rotation="0 133.84007615358465 0" width="4" height="4" scale="0.05 0.05 -0.05" play-pause2></a-image>
        <a-image id="videoControls3" src="#play" position="7 2.20 -14.80472" rotation="" width="4" height="4" scale="0.15 0.15 0.15" play-pause3></a-image>
        <a-image id="videoControls4" src="#play" position="7 2.20 -14.80472" rotation="" width="4" height="4" scale="0.15 0.15 0.15" play-pause3></a-image>
        <a-image id="videoControls5" src="#play" position="7 2.20 -14.80472" rotation="" width="4" height="4" scale="0.15 0.15 0.15" play-pause3></a-image>
    </a-scene>
</body>
</html>
